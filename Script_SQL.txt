CREATE TABLE Commande(
   NumCommande INT AUTO_INCREMENT,
   dateCommande DATE,
   prixCommande DECIMAL(19,4),
   valide_ BOOLEAN,
   PRIMARY KEY(NumCommande)
);

CREATE TABLE Produit(
   Id_Produit INT AUTO_INCREMENT,
   photo VARCHAR(500),
   nom VARCHAR(50),
   prix DECIMAL(19,4),
   nbRestant DOUBLE,
   disponible BOOLEAN,
   PRIMARY KEY(Id_Produit)
);

CREATE TABLE Client(
   Id_Client INT AUTO_INCREMENT,
   nom VARCHAR(50),
   prenom VARCHAR(50),
   adresse VARCHAR(50),
   PRIMARY KEY(Id_Client)
);

CREATE TABLE Administrateur(
   Id_Administrateur INT AUTO_INCREMENT,
   name VARCHAR(50),
   password VARCHAR(50),
   PRIMARY KEY(Id_Administrateur)
);

CREATE TABLE Utilisateur(
   ID VARCHAR(50),
   username VARCHAR(50),
   password VARCHAR(50),
   mail VARCHAR(50),
   Id_Client INT NOT NULL,
   PRIMARY KEY(ID),
   UNIQUE(Id_Client),
   FOREIGN KEY(Id_Client) REFERENCES Client(Id_Client)
);

CREATE TABLE Systeme_paiement(
   Id_Systeme_paiement INT AUTO_INCREMENT,
   nom VARCHAR(50),
   numCarte VARCHAR(50),
   nomTitulaireCarte VARCHAR(50),
   ID VARCHAR(50) NOT NULL,
   PRIMARY KEY(Id_Systeme_paiement),
   FOREIGN KEY(ID) REFERENCES Utilisateur(ID)
);

CREATE TABLE Rassemble(
   NumCommande VARCHAR(50),
   Id_Produit VARCHAR(50),
   CONSTRAINT PK_rassemble PRIMARY KEY(NumCommande, Id_Produit),
   FOREIGN KEY(NumCommande) REFERENCES Commande(NumCommande),
   FOREIGN KEY(Id_Produit) REFERENCES Produit(Id_Produit)
);

CREATE TABLE Realise(
   ID VARCHAR(50),
   NumCommande VARCHAR(50),
   CONSTRAINT PK_realise PRIMARY KEY(ID, NumCommande),
   FOREIGN KEY(ID) REFERENCES Utilisateur(ID),
   FOREIGN KEY(NumCommande) REFERENCES Commande(NumCommande)
);
